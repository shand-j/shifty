(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4327,e=>{"use strict";var t=e.i(29845),a=e.i(38319);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...s})}function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...s})}function l({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>l,"CardDescription",()=>n,"CardHeader",()=>r,"CardTitle",()=>i])},93795,e=>{"use strict";let t=(0,e.i(77107).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],93795)},4119,e=>{"use strict";let t=(0,e.i(77107).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],4119)},43467,e=>{"use strict";var t=e.i(29845),a=e.i(38319);function s({className:e,...s}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...s})}e.s(["Textarea",()=>s])},63714,e=>{"use strict";let t=(0,e.i(77107).default)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);e.s(["Tag",()=>t],63714)},19403,e=>{"use strict";let t=(0,e.i(77107).default)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);e.s(["MessageSquare",()=>t],19403)},31026,e=>{"use strict";let t=(0,e.i(77107).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],31026)},85130,e=>{"use strict";var t=e.i(29845),a=e.i(59199),s=e.i(44240),r="horizontal",i=["horizontal","vertical"],n=a.forwardRef((e,a)=>{var n;let{decorative:l,orientation:d=r,...c}=e,o=(n=d,i.includes(n))?d:r;return(0,t.jsx)(s.Primitive.div,{"data-orientation":o,...l?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"},...c,ref:a})});n.displayName="Separator";var l=e.i(38319);function d({className:e,orientation:a="horizontal",decorative:s=!0,...r}){return(0,t.jsx)(n,{"data-slot":"separator",decorative:s,orientation:a,className:(0,l.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}e.s(["Separator",()=>d],85130)},20384,e=>{"use strict";let t=(0,e.i(77107).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Edit",()=>t],20384)},55787,e=>{"use strict";let t=(0,e.i(77107).default)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);e.s(["Bot",()=>t],55787)},80895,e=>{"use strict";let t=(0,e.i(77107).default)("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);e.s(["Network",()=>t],80895)},26754,e=>{"use strict";var t=e.i(29845),a=e.i(59199),s=e.i(96853),r=e.i(4119),i=e.i(20384),n=e.i(31026),l=e.i(77107);let d=(0,l.default)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),c=(0,l.default)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var o=e.i(93795),h=e.i(88062),x=e.i(55787),m=e.i(65784),u=e.i(63714),p=e.i(80895),f=e.i(19403),g=e.i(4327),j=e.i(41526),v=e.i(72007),y=e.i(85130),N=e.i(43467);function k({entryId:e}){let[l,k]=(0,a.useState)(""),w={id:e,type:"architecture",title:"Authentication Service Architecture",content:`## Overview

The authentication service implements OAuth 2.0 with PKCE (Proof Key for Code Exchange) flow for secure authentication across all client applications.

## Key Components

### Token Management
- **Access Tokens**: JWT format, 15-minute expiry
- **Refresh Tokens**: Opaque tokens, 7-day expiry with rotation
- **Token Storage**: HttpOnly cookies for web, secure storage for mobile

### Security Measures
1. PKCE flow prevents authorization code interception
2. Refresh token rotation on every use
3. Token binding to device fingerprint
4. Rate limiting on auth endpoints (100 req/min)

### Integration Points
- \`/api/auth/login\` - Initiates OAuth flow
- \`/api/auth/callback\` - Handles OAuth callback
- \`/api/auth/refresh\` - Refreshes access token
- \`/api/auth/logout\` - Invalidates all tokens

## Dependencies
- Redis for session storage
- PostgreSQL for user data
- AWS KMS for token signing keys

## Test Considerations
- Mock OAuth provider in tests
- Test token expiry scenarios
- Verify CORS configuration
- Check rate limiting behavior`,summary:"OAuth 2.0 + PKCE authentication flow with JWT tokens and refresh token rotation.",source:"agent",sourceAgent:"Test Generator",tags:["auth","security","api","oauth","jwt"],relatedEntities:["AuthService","UserController","TokenManager","SessionStore"],confidence:.95,createdAt:"2024-01-15T10:30:00Z",updatedAt:"2024-01-20T14:22:00Z",createdBy:"Test Generator Agent",comments:[{id:"1",author:"Sarah Chen",content:"Good documentation. Should also mention the SAML integration for enterprise SSO.",timestamp:"2024-01-18T09:00:00Z"}]};return(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(s.default,{href:"/knowledge",children:(0,t.jsx)(j.Button,{variant:"ghost",size:"icon",children:(0,t.jsx)(r.ArrowLeft,{className:"w-5 h-5"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:w.title}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-sm text-muted-foreground",children:[(0,t.jsx)(v.Badge,{variant:"outline",className:"capitalize",children:w.type}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(x.Bot,{className:"w-3 h-3"}),w.sourceAgent||w.source]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(m.Sparkles,{className:"w-3 h-3"}),Math.round(100*w.confidence),"% confidence"]})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(j.Button,{variant:"outline",size:"sm",children:[(0,t.jsx)(d,{className:"w-4 h-4 mr-2"}),"Share"]}),(0,t.jsxs)(j.Button,{variant:"outline",size:"sm",children:[(0,t.jsx)(i.Edit,{className:"w-4 h-4 mr-2"}),"Edit"]}),(0,t.jsx)(j.Button,{variant:"outline",size:"sm",className:"text-destructive bg-transparent",children:(0,t.jsx)(n.Trash2,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"col-span-2 space-y-6",children:[(0,t.jsx)(g.Card,{children:(0,t.jsx)(g.CardContent,{className:"p-6 prose prose-invert max-w-none",children:(0,t.jsx)("div",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:w.content.split("\n").map((e,a)=>e.startsWith("## ")?(0,t.jsx)("h2",{className:"text-lg font-semibold mt-6 mb-3 text-foreground",children:e.replace("## ","")},a):e.startsWith("### ")?(0,t.jsx)("h3",{className:"text-base font-medium mt-4 mb-2 text-foreground",children:e.replace("### ","")},a):e.startsWith("- ")?(0,t.jsx)("li",{className:"text-muted-foreground ml-4",children:e.replace("- ","")},a):e.match(/^\d\./)?(0,t.jsx)("li",{className:"text-muted-foreground ml-4 list-decimal",children:e.replace(/^\d\.\s/,"")},a):e.startsWith("```")?null:(0,t.jsx)("p",{className:"text-muted-foreground",children:e},a))})})}),(0,t.jsxs)(g.Card,{children:[(0,t.jsx)(g.CardHeader,{children:(0,t.jsxs)(g.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(f.MessageSquare,{className:"w-4 h-4"}),"Discussion (",w.comments.length,")"]})}),(0,t.jsxs)(g.CardContent,{className:"space-y-4",children:[w.comments.map(e=>(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:(0,t.jsx)(h.User,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("span",{className:"font-medium text-sm",children:e.author}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleDateString()})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.content})]})]},e.id)),(0,t.jsx)(y.Separator,{}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)(N.Textarea,{placeholder:"Add a comment...",value:l,onChange:e=>k(e.target.value),className:"min-h-[80px]"})}),(0,t.jsx)(j.Button,{size:"sm",disabled:!l.trim(),children:"Post Comment"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(g.Card,{children:[(0,t.jsx)(g.CardHeader,{children:(0,t.jsx)(g.CardTitle,{className:"text-base",children:"Metadata"})}),(0,t.jsxs)(g.CardContent,{className:"space-y-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(o.Clock,{className:"w-4 h-4"}),"Created"]}),(0,t.jsx)("span",{children:new Date(w.createdAt).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(o.Clock,{className:"w-4 h-4"}),"Updated"]}),(0,t.jsx)("span",{children:new Date(w.updatedAt).toLocaleDateString()})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-muted-foreground flex items-center gap-2",children:[(0,t.jsx)(h.User,{className:"w-4 h-4"}),"Created by"]}),(0,t.jsx)("span",{children:w.createdBy})]})]})]}),(0,t.jsxs)(g.Card,{children:[(0,t.jsx)(g.CardHeader,{children:(0,t.jsxs)(g.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(u.Tag,{className:"w-4 h-4"}),"Tags"]})}),(0,t.jsx)(g.CardContent,{children:(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:w.tags.map(e=>(0,t.jsx)(v.Badge,{variant:"secondary",children:e},e))})})]}),(0,t.jsxs)(g.Card,{children:[(0,t.jsx)(g.CardHeader,{children:(0,t.jsxs)(g.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,t.jsx)(p.Network,{className:"w-4 h-4"}),"Related Entities"]})}),(0,t.jsx)(g.CardContent,{children:(0,t.jsx)("div",{className:"space-y-2",children:w.relatedEntities.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm p-2 rounded bg-muted hover:bg-muted/80 cursor-pointer",children:[(0,t.jsx)(c,{className:"w-3 h-3 text-muted-foreground"}),e]},e))})})]})]})]})]})}e.s(["KnowledgeEntryDetail",()=>k],26754)}]);