(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4327,e=>{"use strict";var t=e.i(29845),s=e.i(38319);function a({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function r({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function n({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...a})}function i({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...a})}function d({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>d,"CardDescription",()=>i,"CardHeader",()=>r,"CardTitle",()=>n])},93795,e=>{"use strict";let t=(0,e.i(77107).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],93795)},80540,e=>{"use strict";let t=(0,e.i(77107).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],80540)},165,e=>{"use strict";var t=e.i(29845),s=e.i(38319);function a({className:e,type:a,...r}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}e.s(["Input",()=>a])},30312,e=>{"use strict";var t=e.i(59199);function s(e){let s=t.useRef({value:e,previous:e});return t.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}e.s(["usePrevious",()=>s])},54151,e=>{"use strict";var t=e.i(59143);e.s(["Check",()=>t.default])},4771,e=>{"use strict";var t=e.i(86308);e.s(["X",()=>t.default])},51192,e=>{"use strict";let t=(0,e.i(77107).default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);e.s(["Filter",()=>t],51192)},62452,e=>{"use strict";let t=(0,e.i(77107).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],62452)},52800,e=>{"use strict";let t=(0,e.i(77107).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],52800)},80268,e=>{"use strict";var t=e.i(29845),s=e.i(59199),a=e.i(68304),r=e.i(44145),n=e.i(37783),i=e.i(50159),d=e.i(30312),c=e.i(34356),l=e.i(49708),o=e.i(44240),u="Checkbox",[h,m]=(0,r.createContextScope)(u),[x,p]=h(u),g=s.forwardRef((e,r)=>{let{__scopeCheckbox:d,name:c,checked:l,defaultChecked:u,required:h,disabled:m,value:p="on",onCheckedChange:g,form:f,...v}=e,[C,y]=s.useState(null),w=(0,a.useComposedRefs)(r,e=>y(e)),k=s.useRef(!1),S=!C||f||!!C.closest("form"),[R=!1,A]=(0,i.useControllableState)({prop:l,defaultProp:u,onChange:g}),D=s.useRef(R);return s.useEffect(()=>{let e=C?.form;if(e){let t=()=>A(D.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[C,A]),(0,t.jsxs)(x,{scope:d,state:R,disabled:m,children:[(0,t.jsx)(o.Primitive.button,{type:"button",role:"checkbox","aria-checked":b(R)?"mixed":R,"aria-required":h,"data-state":N(R),"data-disabled":m?"":void 0,disabled:m,value:p,...v,ref:w,onKeyDown:(0,n.composeEventHandlers)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.composeEventHandlers)(e.onClick,e=>{A(e=>!!b(e)||!e),S&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),S&&(0,t.jsx)(j,{control:C,bubbles:!k.current,name:c,value:p,checked:R,required:h,disabled:m,form:f,style:{transform:"translateX(-100%)"},defaultChecked:!b(u)&&u})]})});g.displayName=u;var f="CheckboxIndicator",v=s.forwardRef((e,s)=>{let{__scopeCheckbox:a,forceMount:r,...n}=e,i=p(f,a);return(0,t.jsx)(l.Presence,{present:r||b(i.state)||!0===i.state,children:(0,t.jsx)(o.Primitive.span,{"data-state":N(i.state),"data-disabled":i.disabled?"":void 0,...n,ref:s,style:{pointerEvents:"none",...e.style}})})});v.displayName=f;var j=e=>{let{control:a,checked:r,bubbles:n=!0,defaultChecked:i,...l}=e,o=s.useRef(null),u=(0,d.usePrevious)(r),h=(0,c.useSize)(a);s.useEffect(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(u!==r&&t){let s=new Event("click",{bubbles:n});e.indeterminate=b(r),t.call(e,!b(r)&&r),e.dispatchEvent(s)}},[u,r,n]);let m=s.useRef(!b(r)&&r);return(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??m.current,...l,tabIndex:-1,ref:o,style:{...e.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function b(e){return"indeterminate"===e}function N(e){return b(e)?"indeterminate":e?"checked":"unchecked"}var C=e.i(18056),y=e.i(38319);function w({className:e,...s}){return(0,t.jsx)(g,{"data-slot":"checkbox",className:(0,y.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:(0,t.jsx)(v,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(C.CheckIcon,{className:"size-3.5"})})})}e.s(["Checkbox",()=>w],80268)},69263,e=>{"use strict";var t=e.i(29845),s=e.i(59199),a=e.i(4327),r=e.i(41526),n=e.i(72007),i=e.i(165),d=e.i(80268),c=e.i(90757),l=e.i(82119),o=e.i(68336),u=e.i(51192),h=e.i(54151),m=e.i(4771);let x=(0,e.i(77107).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);var p=e.i(52800),g=e.i(65784),f=e.i(62452),v=e.i(93795),j=e.i(80540),b=e.i(96853),N=e.i(38319);let C=[{id:"h1",testName:"login.spec.ts",testId:"t1",originalSelector:"#submit-btn",healedSelector:'[data-testid="submit-btn"]',confidence:98,status:"pending",createdAt:"5 min ago",domChanges:"Button ID removed, data-testid added",affectedRuns:12},{id:"h2",testName:"checkout.spec.ts",testId:"t5",originalSelector:".add-to-cart-button",healedSelector:'[data-testid="add-to-cart"]',confidence:94,status:"pending",createdAt:"15 min ago",domChanges:"Class name changed from add-to-cart-button to cart-btn",affectedRuns:8},{id:"h3",testName:"search.spec.ts",testId:"t8",originalSelector:"#search-input",healedSelector:'input[name="query"]',confidence:78,status:"pending",createdAt:"1 hour ago",domChanges:"Element restructured, ID removed",affectedRuns:5},{id:"h4",testName:"profile.spec.ts",testId:"t10",originalSelector:".user-avatar",healedSelector:'[data-testid="user-avatar"]',confidence:62,status:"pending",createdAt:"2 hours ago",domChanges:"Component completely refactored",affectedRuns:3},{id:"h5",testName:"navigation.spec.ts",testId:"t12",originalSelector:"#nav-menu > li:first-child",healedSelector:'[data-testid="nav-home"]',confidence:88,status:"approved",createdAt:"3 hours ago",domChanges:"Navigation structure changed to use data-testid",affectedRuns:15},{id:"h6",testName:"cart.spec.ts",testId:"t6",originalSelector:".cart-total-price",healedSelector:'[data-testid="cart-total"]',confidence:91,status:"rejected",createdAt:"1 day ago",domChanges:"Selector was incorrect, manual fix needed",affectedRuns:2}];function y(){let[e,y]=(0,s.useState)(C),[w,k]=(0,s.useState)(""),[S,R]=(0,s.useState)(new Set),[A,D]=(0,s.useState)("all"),[M,I]=(0,s.useState)(!1),[z,B]=(0,s.useState)(null),E=e.filter(e=>{let t=e.testName.toLowerCase().includes(w.toLowerCase())||e.originalSelector.toLowerCase().includes(w.toLowerCase())||e.healedSelector.toLowerCase().includes(w.toLowerCase()),s="all"===A||e.status===A;return t&&s}),P=e.filter(e=>"pending"===e.status).length,T=e.filter(e=>"approved"===e.status).length,L=e.filter(e=>"rejected"===e.status).length;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"Selector Healing"}),(0,t.jsxs)("p",{className:"text-muted-foreground text-sm",children:[P," pending • ",T," approved • ",L," rejected"]})]}),(0,t.jsxs)(r.Button,{variant:"outline",className:"gap-2 bg-transparent",children:[(0,t.jsx)(x,{className:"w-4 h-4"}),"Re-analyze All"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)(a.Card,{className:"bg-card",children:(0,t.jsx)(a.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-primary/20 flex items-center justify-center",children:(0,t.jsx)(g.Sparkles,{className:"w-5 h-5 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-foreground",children:e.length}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Heals"})]})]})})}),(0,t.jsx)(a.Card,{className:"bg-card",children:(0,t.jsx)(a.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-chart-3/20 flex items-center justify-center",children:(0,t.jsx)(v.Clock,{className:"w-5 h-5 text-chart-3"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-foreground",children:P}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pending Review"})]})]})})}),(0,t.jsx)(a.Card,{className:"bg-card",children:(0,t.jsx)(a.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-chart-1/20 flex items-center justify-center",children:(0,t.jsx)(h.Check,{className:"w-5 h-5 text-chart-1"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-foreground",children:"92%"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avg Confidence"})]})]})})}),(0,t.jsx)(a.Card,{className:"bg-card",children:(0,t.jsx)(a.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-destructive/20 flex items-center justify-center",children:(0,t.jsx)(j.AlertTriangle,{className:"w-5 h-5 text-destructive"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-foreground",children:"2"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Low Confidence"})]})]})})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,t.jsx)(o.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),(0,t.jsx)(i.Input,{placeholder:"Search by test name or selector...",value:w,onChange:e=>k(e.target.value),className:"pl-9 bg-transparent"})]}),(0,t.jsxs)(c.DropdownMenu,{children:[(0,t.jsx)(c.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(r.Button,{variant:"outline",className:"gap-2 bg-transparent",children:[(0,t.jsx)(u.Filter,{className:"w-4 h-4"}),"all"===A?"All Status":A.charAt(0).toUpperCase()+A.slice(1)]})}),(0,t.jsxs)(c.DropdownMenuContent,{align:"end",children:[(0,t.jsx)(c.DropdownMenuLabel,{children:"Filter by Status"}),(0,t.jsx)(c.DropdownMenuSeparator,{}),(0,t.jsx)(c.DropdownMenuItem,{onClick:()=>D("all"),children:"All"}),(0,t.jsx)(c.DropdownMenuItem,{onClick:()=>D("pending"),children:"Pending"}),(0,t.jsx)(c.DropdownMenuItem,{onClick:()=>D("approved"),children:"Approved"}),(0,t.jsx)(c.DropdownMenuItem,{onClick:()=>D("rejected"),children:"Rejected"})]})]})]}),S.size>0&&(0,t.jsx)(a.Card,{className:"bg-muted/30 border-primary/50",children:(0,t.jsxs)(a.CardContent,{className:"py-3 flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-sm text-foreground",children:[S.size," items selected"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(r.Button,{variant:"outline",size:"sm",className:"gap-2 bg-transparent text-chart-1 border-chart-1/50 hover:bg-chart-1/20",onClick:()=>{y(e=>e.map(e=>S.has(e.id)?{...e,status:"approved"}:e)),R(new Set)},children:[(0,t.jsx)(h.Check,{className:"w-4 h-4"}),"Approve Selected"]}),(0,t.jsxs)(r.Button,{variant:"outline",size:"sm",className:"gap-2 bg-transparent text-destructive border-destructive/50 hover:bg-destructive/20",onClick:()=>{y(e=>e.map(e=>S.has(e.id)?{...e,status:"rejected"}:e)),R(new Set)},children:[(0,t.jsx)(m.X,{className:"w-4 h-4"}),"Reject Selected"]})]})]})}),(0,t.jsxs)(a.Card,{className:"bg-card",children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsx)(a.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Healing Queue"})}),(0,t.jsx)(a.CardContent,{children:(0,t.jsx)("div",{className:"space-y-3",children:E.map(e=>{var s;return(0,t.jsxs)("div",{className:(0,N.cn)("p-4 rounded-lg bg-muted/30 space-y-3",S.has(e.id)&&"ring-1 ring-primary"),children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(d.Checkbox,{checked:S.has(e.id),onCheckedChange:()=>{var t;return t=e.id,void R(e=>{let s=new Set(e);return s.has(t)?s.delete(t):s.add(t),s})},className:"mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(b.default,{href:`/tests/${e.testId}`,className:"text-sm font-medium text-foreground hover:underline",children:e.testName}),(e=>{switch(e){case"approved":return(0,t.jsxs)(n.Badge,{variant:"secondary",className:"bg-chart-1/20 text-chart-1",children:[(0,t.jsx)(h.Check,{className:"w-3 h-3 mr-1"}),"Approved"]});case"rejected":return(0,t.jsxs)(n.Badge,{variant:"secondary",className:"bg-destructive/20 text-destructive",children:[(0,t.jsx)(m.X,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return(0,t.jsxs)(n.Badge,{variant:"secondary",className:"bg-chart-3/20 text-chart-3",children:[(0,t.jsx)(v.Clock,{className:"w-3 h-3 mr-1"}),"Pending"]})}})(e.status)]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.domChanges})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(n.Badge,{variant:"secondary",className:(s=e.confidence)>=90?"bg-chart-1/20 text-chart-1":s>=70?"bg-chart-3/20 text-chart-3":"bg-destructive/20 text-destructive",children:[e.confidence,"% confidence"]}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:e.createdAt})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 font-mono text-sm",children:[(0,t.jsx)("div",{className:"flex-1 p-2 rounded bg-destructive/10 border border-destructive/20",children:(0,t.jsx)("code",{className:"text-destructive",children:e.originalSelector})}),(0,t.jsx)(f.ArrowRight,{className:"w-5 h-5 text-muted-foreground shrink-0"}),(0,t.jsx)("div",{className:"flex-1 p-2 rounded bg-chart-1/10 border border-chart-1/20",children:(0,t.jsx)("code",{className:"text-chart-1",children:e.healedSelector})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:[e.affectedRuns," affected test runs"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(b.default,{href:`/healing/${e.id}`,children:(0,t.jsxs)(r.Button,{variant:"ghost",size:"sm",className:"gap-1",children:[(0,t.jsx)(p.Eye,{className:"w-4 h-4"}),"View DOM"]})}),(0,t.jsxs)(r.Button,{variant:"ghost",size:"sm",className:"gap-1",onClick:()=>{B(e),I(!0)},children:[(0,t.jsx)(x,{className:"w-4 h-4"}),"Re-analyze"]}),"pending"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.Button,{variant:"ghost",size:"sm",className:"gap-1 text-chart-1 hover:bg-chart-1/20",onClick:()=>{var t;return t=e.id,void y(e=>e.map(e=>e.id===t?{...e,status:"approved"}:e))},children:[(0,t.jsx)(h.Check,{className:"w-4 h-4"}),"Approve"]}),(0,t.jsxs)(r.Button,{variant:"ghost",size:"sm",className:"gap-1 text-destructive hover:bg-destructive/20",onClick:()=>{var t;return t=e.id,void y(e=>e.map(e=>e.id===t?{...e,status:"rejected"}:e))},children:[(0,t.jsx)(m.X,{className:"w-4 h-4"}),"Reject"]})]})]})]})]},e.id)})})})]}),(0,t.jsx)(l.Dialog,{open:M,onOpenChange:I,children:(0,t.jsxs)(l.DialogContent,{children:[(0,t.jsxs)(l.DialogHeader,{children:[(0,t.jsx)(l.DialogTitle,{children:"Re-analyze Selector"}),(0,t.jsx)(l.DialogDescription,{children:"Request a new AI analysis for this selector healing. This will fetch the latest DOM snapshot and generate a new recommendation."})]}),z&&(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"p-3 rounded-lg bg-muted/50",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-foreground",children:z.testName}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1 font-mono",children:z.originalSelector})]})}),(0,t.jsxs)(l.DialogFooter,{children:[(0,t.jsx)(r.Button,{variant:"outline",onClick:()=>I(!1),className:"bg-transparent",children:"Cancel"}),(0,t.jsxs)(r.Button,{onClick:()=>{I(!1)},className:"gap-2",children:[(0,t.jsx)(x,{className:"w-4 h-4"}),"Re-analyze"]})]})]})})]})}e.s(["HealingQueue",()=>y],69263)}]);