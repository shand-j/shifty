module.exports=[64239,a=>{"use strict";var b=a.i(86531),c=a.i(9644),d=a.i(31385),e=a.i(53675),f=a.i(57786),g=a.i(91239),h=a.i(45054),i=a.i(87118);let j=(0,i.default)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),k=(0,i.default)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);var l=a.i(38564);let m=(0,i.default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var n=a.i(12789),o=a.i(54523),p=a.i(97635),q=a.i(61612),r=a.i(233),s=a.i(55934),t=a.i(38905),u=a.i(47848),v=a.i(50499);function w(){let a=(0,d.useRouter)(),{user:c,tenant:i,notifications:w,setCommandPaletteOpen:x,markNotificationRead:y,setUser:z}=(0,s.useAppStore)(),{theme:A,setTheme:B}=(0,t.useTheme)(),C=w.filter(a=>!a.read).length;return(0,b.jsxs)("header",{className:"h-14 border-b border-border bg-background flex items-center justify-between px-4 sticky top-0 z-50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(e.default,{href:"/dashboard",className:"flex items-center",children:(0,b.jsx)(v.ShiftyLogo,{size:"sm"})}),(0,b.jsxs)(p.DropdownMenu,{children:[(0,b.jsx)(p.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(o.Button,{variant:"ghost",size:"sm",className:"gap-2 text-muted-foreground",children:[(0,b.jsx)("span",{className:"text-sm",children:i?.name}),(0,b.jsx)(r.Badge,{variant:"secondary",className:"text-xs",children:"Enterprise"}),(0,b.jsx)(h.ChevronDown,{className:"w-4 h-4"})]})}),(0,b.jsxs)(p.DropdownMenuContent,{align:"start",className:"w-56",children:[(0,b.jsx)(p.DropdownMenuLabel,{children:"Switch Tenant"}),(0,b.jsx)(p.DropdownMenuSeparator,{}),(0,b.jsx)(p.DropdownMenuItem,{children:"Acme Corp"}),(0,b.jsx)(p.DropdownMenuItem,{children:"Startup Inc"}),(0,b.jsx)(p.DropdownMenuItem,{children:"Personal"})]})]})]}),(0,b.jsxs)(o.Button,{variant:"outline",className:"w-96 justify-start text-muted-foreground gap-2 hidden md:flex bg-transparent",onClick:()=>x(!0),children:[(0,b.jsx)(g.Search,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-sm",children:"Search tests, sessions, incidents..."}),(0,b.jsxs)("kbd",{className:"ml-auto pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border border-border bg-muted px-1.5 font-mono text-xs font-medium text-muted-foreground",children:[(0,b.jsx)("span",{className:"text-xs",children:"âŒ˜"}),"K"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(o.Button,{variant:"ghost",size:"icon",onClick:()=>B("dark"===A?"light":"dark"),className:"text-muted-foreground",children:[(0,b.jsx)(k,{className:"h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,b.jsx)(j,{className:"absolute h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,b.jsx)("span",{className:"sr-only",children:"Toggle theme"})]}),(0,b.jsxs)(p.DropdownMenu,{children:[(0,b.jsx)(p.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(o.Button,{variant:"ghost",size:"icon",className:"relative text-muted-foreground",children:[(0,b.jsx)(f.Bell,{className:"w-4 h-4"}),C>0&&(0,b.jsx)("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-destructive text-destructive-foreground text-xs rounded-full flex items-center justify-center",children:C})]})}),(0,b.jsxs)(p.DropdownMenuContent,{align:"end",className:"w-80",children:[(0,b.jsx)(p.DropdownMenuLabel,{children:"Notifications"}),(0,b.jsx)(p.DropdownMenuSeparator,{}),w.map(a=>(0,b.jsxs)(p.DropdownMenuItem,{className:(0,u.cn)("flex flex-col items-start gap-1 p-3",!a.read&&"bg-muted/50"),onClick:()=>y(a.id),children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,b.jsx)("span",{className:"font-medium text-sm",children:a.title}),!a.read&&(0,b.jsx)("span",{className:"w-2 h-2 rounded-full bg-primary ml-auto"})]}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:a.message})]},a.id))]})]}),(0,b.jsxs)(p.DropdownMenu,{children:[(0,b.jsx)(p.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(o.Button,{variant:"ghost",size:"icon",className:"rounded-full",children:(0,b.jsxs)(q.Avatar,{className:"w-8 h-8",children:[(0,b.jsx)(q.AvatarImage,{src:c?.avatar||"/placeholder.svg",alt:c?.name}),(0,b.jsx)(q.AvatarFallback,{children:c?.name?.charAt(0)})]})})}),(0,b.jsxs)(p.DropdownMenuContent,{align:"end",className:"w-56",children:[(0,b.jsx)(p.DropdownMenuLabel,{children:(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{children:c?.name}),(0,b.jsx)("span",{className:"text-xs text-muted-foreground font-normal",children:c?.email})]})}),(0,b.jsx)(p.DropdownMenuSeparator,{}),(0,b.jsx)(p.DropdownMenuItem,{asChild:!0,children:(0,b.jsxs)(e.default,{href:"/settings",children:[(0,b.jsx)(n.User,{className:"w-4 h-4 mr-2"}),"Profile"]})}),(0,b.jsx)(p.DropdownMenuItem,{asChild:!0,children:(0,b.jsxs)(e.default,{href:"/settings",children:[(0,b.jsx)(l.Settings,{className:"w-4 h-4 mr-2"}),"Settings"]})}),(0,b.jsx)(p.DropdownMenuSeparator,{}),(0,b.jsxs)(p.DropdownMenuItem,{className:"text-destructive",onClick:()=>{z(null),a.push("/login")},children:[(0,b.jsx)(m,{className:"w-4 h-4 mr-2"}),"Log out"]})]})]})]})]})}let x=(0,i.default)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var y=a.i(29419),z=a.i(52242),A=a.i(78170),B=a.i(77775),C=a.i(87113),D=a.i(36167);let E=(0,i.default)("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]),F=(0,i.default)("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);var G=a.i(87633),H=a.i(45495),I=a.i(29746),J=a.i(9643),K=a.i(76762),L=a.i(82728),M=a.i(52974);let N=[{href:"/dashboard",label:"Dashboard",icon:x},{href:"/organization",label:"Organization",icon:K.Building2},{href:"/teams",label:"Teams",icon:J.Users},{href:"/adoption",label:"Adoption",icon:L.Target},{href:"/tests",label:"Tests",icon:y.TestTube2},{href:"/healing",label:"Healing",icon:z.Sparkles},{href:"/sessions",label:"Sessions",icon:A.PlayCircle},{href:"/pipelines",label:"Pipelines",icon:B.GitBranch},{href:"/insights",label:"Insights",icon:C.BarChart3},{href:"/knowledge",label:"Knowledge",icon:H.Brain},{href:"/agent-prs",label:"Agent PRs",icon:G.GitPullRequest},{href:"/arcade",label:"Arcade",icon:D.Trophy},{href:"/api-docs",label:"API Docs",icon:I.FileCode2},{href:"/settings",label:"Settings",icon:l.Settings}];function O(){let a=(0,d.usePathname)(),{sidebarCollapsed:c,toggleSidebar:f,user:g}=(0,s.useAppStore)(),h=(()=>{let a=g?.persona,b=[...N];if("qa"===a){let a=b.findIndex(a=>"/sessions"===a.href),c=b.splice(a,1)[0];b.splice(1,0,c)}else if("dev"===a);else if("manager"===a){let a=b.findIndex(a=>"/insights"===a.href),c=b.splice(a,1)[0];b.splice(1,0,c)}return b})();return(0,b.jsx)(M.TooltipProvider,{delayDuration:0,children:(0,b.jsxs)("aside",{className:(0,u.cn)("h-[calc(100vh-3.5rem)] border-r border-border bg-sidebar flex flex-col transition-all duration-300",c?"w-16":"w-56"),children:[(0,b.jsx)("nav",{className:"flex-1 p-3 space-y-1",children:h.map(d=>{let f=a===d.href||a.startsWith(d.href+"/"),g=d.icon,h=(0,b.jsxs)(e.default,{href:d.href,className:(0,u.cn)("flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors",f?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground"),children:[(0,b.jsx)(g,{className:(0,u.cn)("w-5 h-5 shrink-0",f&&"text-primary")}),!c&&(0,b.jsx)("span",{children:d.label})]});return c?(0,b.jsxs)(M.Tooltip,{children:[(0,b.jsx)(M.TooltipTrigger,{asChild:!0,children:h}),(0,b.jsx)(M.TooltipContent,{side:"right",children:d.label})]},d.href):(0,b.jsx)("div",{children:h},d.href)})}),(0,b.jsx)("div",{className:"p-3 border-t border-sidebar-border",children:(0,b.jsx)(o.Button,{variant:"ghost",size:"sm",onClick:f,className:"w-full justify-center text-sidebar-foreground/70",children:c?(0,b.jsx)(F,{className:"w-5 h-5"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E,{className:"w-5 h-5 mr-2"}),(0,b.jsx)("span",{children:"Collapse"})]})})})]})})}var P=a.i(40925);let Q=(0,i.default)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);function R(){let a=(0,d.usePathname)(),{tenant:c}=(0,s.useAppStore)(),f=a.split("/").filter(Boolean),g=f.map((a,b)=>({href:"/"+f.slice(0,b+1).join("/"),label:a.charAt(0).toUpperCase()+a.slice(1).replace(/-/g," ")}));return 0===g.length?null:(0,b.jsxs)("nav",{className:"flex items-center gap-1 text-sm text-muted-foreground mb-4",children:[(0,b.jsxs)(e.default,{href:"/dashboard",className:"hover:text-foreground transition-colors flex items-center gap-1",children:[(0,b.jsx)(Q,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:c?.name})]}),g.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(P.ChevronRight,{className:"w-4 h-4"}),c===g.length-1?(0,b.jsx)("span",{className:"text-foreground font-medium",children:a.label}):(0,b.jsx)(e.default,{href:a.href,className:"hover:text-foreground transition-colors",children:a.label})]},a.href))]})}var S=/[\\\/_+.#"@\[\(\{&]/,T=/[\\\/_+.#"@\[\(\{&]/g,U=/[\s-]/,V=/[\s-]/g;function W(a){return a.toLowerCase().replace(V," ")}var X=a.i(86101),Y=a.i(17839),Z=a.i(60839),$=a.i(91879),_='[cmdk-group=""]',aa='[cmdk-group-items=""]',ab='[cmdk-item=""]',ac=`${ab}:not([aria-disabled="true"])`,ad="cmdk-item-select",ae="data-value",af=(a,b,c)=>{var d;return d=a,function a(b,c,d,e,f,g,h){if(g===c.length)return f===b.length?1:.99;var i=`${f},${g}`;if(void 0!==h[i])return h[i];for(var j,k,l,m,n=e.charAt(g),o=d.indexOf(n,f),p=0;o>=0;)(j=a(b,c,d,e,o+1,g+1,h))>p&&(o===f?j*=1:S.test(b.charAt(o-1))?(j*=.8,(l=b.slice(f,o-1).match(T))&&f>0&&(j*=Math.pow(.999,l.length))):U.test(b.charAt(o-1))?(j*=.9,(m=b.slice(f,o-1).match(V))&&f>0&&(j*=Math.pow(.999,m.length))):(j*=.17,f>0&&(j*=Math.pow(.999,o-f))),b.charAt(o)!==c.charAt(g)&&(j*=.9999)),(j<.1&&d.charAt(o-1)===e.charAt(g+1)||e.charAt(g+1)===e.charAt(g)&&d.charAt(o-1)!==e.charAt(g))&&.1*(k=a(b,c,d,e,o+1,g+2,h))>j&&(j=.1*k),j>p&&(p=j),o=d.indexOf(n,o+1);return h[i]=p,p}(d=c&&c.length>0?`${d+" "+c.join(" ")}`:d,b,W(d),W(b),0,0,{})},ag=c.createContext(void 0),ah=c.createContext(void 0),ai=c.createContext(void 0),aj=c.forwardRef((a,b)=>{let d=at(()=>{var b,c;return{search:"",value:null!=(c=null!=(b=a.value)?b:a.defaultValue)?c:"",filtered:{count:0,items:new Map,groups:new Set}}}),e=at(()=>new Set),f=at(()=>new Map),g=at(()=>new Map),h=at(()=>new Set),i=ar(a),{label:j,children:k,value:l,onValueChange:m,filter:n,shouldFilter:o,loop:p,disablePointerSelection:q=!1,vimBindings:r=!0,...s}=a,t=(0,Z.useId)(),u=(0,Z.useId)(),v=(0,Z.useId)(),w=c.useRef(null),x=ax();as(()=>{if(void 0!==l){let a=l.trim();d.current.value=a,y.emit()}},[l]),as(()=>{x(6,E)},[]);let y=c.useMemo(()=>({subscribe:a=>(h.current.add(a),()=>h.current.delete(a)),snapshot:()=>d.current,setState:(a,b,c)=>{var e,f,g;if(!Object.is(d.current[a],b)){if(d.current[a]=b,"search"===a)D(),B(),x(1,C);else if("value"===a&&(c||x(5,E),(null==(e=i.current)?void 0:e.value)!==void 0)){null==(g=(f=i.current).onValueChange)||g.call(f,null!=b?b:"");return}y.emit()}},emit:()=>{h.current.forEach(a=>a())}}),[]),z=c.useMemo(()=>({value:(a,b,c)=>{var e;b!==(null==(e=g.current.get(a))?void 0:e.value)&&(g.current.set(a,{value:b,keywords:c}),d.current.filtered.items.set(a,A(b,c)),x(2,()=>{B(),y.emit()}))},item:(a,b)=>(e.current.add(a),b&&(f.current.has(b)?f.current.get(b).add(a):f.current.set(b,new Set([a]))),x(3,()=>{D(),B(),d.current.value||C(),y.emit()}),()=>{g.current.delete(a),e.current.delete(a),d.current.filtered.items.delete(a);let b=F();x(4,()=>{D(),(null==b?void 0:b.getAttribute("id"))===a&&C(),y.emit()})}),group:a=>(f.current.has(a)||f.current.set(a,new Set),()=>{g.current.delete(a),f.current.delete(a)}),filter:()=>i.current.shouldFilter,label:j||a["aria-label"],getDisablePointerSelection:()=>i.current.disablePointerSelection,listId:t,inputId:v,labelId:u,listInnerRef:w}),[]);function A(a,b){var c,e;let f=null!=(e=null==(c=i.current)?void 0:c.filter)?e:af;return a?f(a,d.current.search,b):0}function B(){if(!d.current.search||!1===i.current.shouldFilter)return;let a=d.current.filtered.items,b=[];d.current.filtered.groups.forEach(c=>{let d=f.current.get(c),e=0;d.forEach(b=>{e=Math.max(a.get(b),e)}),b.push([c,e])});let c=w.current;G().sort((b,c)=>{var d,e;let f=b.getAttribute("id"),g=c.getAttribute("id");return(null!=(d=a.get(g))?d:0)-(null!=(e=a.get(f))?e:0)}).forEach(a=>{let b=a.closest(aa);b?b.appendChild(a.parentElement===b?a:a.closest(`${aa} > *`)):c.appendChild(a.parentElement===c?a:a.closest(`${aa} > *`))}),b.sort((a,b)=>b[1]-a[1]).forEach(a=>{var b;let c=null==(b=w.current)?void 0:b.querySelector(`${_}[${ae}="${encodeURIComponent(a[0])}"]`);null==c||c.parentElement.appendChild(c)})}function C(){let a=G().find(a=>"true"!==a.getAttribute("aria-disabled")),b=null==a?void 0:a.getAttribute(ae);y.setState("value",b||void 0)}function D(){var a,b,c,h;if(!d.current.search||!1===i.current.shouldFilter){d.current.filtered.count=e.current.size;return}d.current.filtered.groups=new Set;let j=0;for(let f of e.current){let e=A(null!=(b=null==(a=g.current.get(f))?void 0:a.value)?b:"",null!=(h=null==(c=g.current.get(f))?void 0:c.keywords)?h:[]);d.current.filtered.items.set(f,e),e>0&&j++}for(let[a,b]of f.current)for(let c of b)if(d.current.filtered.items.get(c)>0){d.current.filtered.groups.add(a);break}d.current.filtered.count=j}function E(){var a,b,c;let d=F();d&&((null==(a=d.parentElement)?void 0:a.firstChild)===d&&(null==(c=null==(b=d.closest(_))?void 0:b.querySelector('[cmdk-group-heading=""]'))||c.scrollIntoView({block:"nearest"})),d.scrollIntoView({block:"nearest"}))}function F(){var a;return null==(a=w.current)?void 0:a.querySelector(`${ab}[aria-selected="true"]`)}function G(){var a;return Array.from((null==(a=w.current)?void 0:a.querySelectorAll(ac))||[])}function H(a){let b=G()[a];b&&y.setState("value",b.getAttribute(ae))}function I(a){var b;let c=F(),d=G(),e=d.findIndex(a=>a===c),f=d[e+a];null!=(b=i.current)&&b.loop&&(f=e+a<0?d[d.length-1]:e+a===d.length?d[0]:d[e+a]),f&&y.setState("value",f.getAttribute(ae))}function J(a){let b=F(),c=null==b?void 0:b.closest(_),d;for(;c&&!d;)d=null==(c=a>0?function(a,b){let c=a.nextElementSibling;for(;c;){if(c.matches(b))return c;c=c.nextElementSibling}}(c,_):function(a,b){let c=a.previousElementSibling;for(;c;){if(c.matches(b))return c;c=c.previousElementSibling}}(c,_))?void 0:c.querySelector(ac);d?y.setState("value",d.getAttribute(ae)):I(a)}let K=()=>H(G().length-1),L=a=>{a.preventDefault(),a.metaKey?K():a.altKey?J(1):I(1)},M=a=>{a.preventDefault(),a.metaKey?H(0):a.altKey?J(-1):I(-1)};return c.createElement(Y.Primitive.div,{ref:b,tabIndex:-1,...s,"cmdk-root":"",onKeyDown:a=>{var b;if(null==(b=s.onKeyDown)||b.call(s,a),!a.defaultPrevented)switch(a.key){case"n":case"j":r&&a.ctrlKey&&L(a);break;case"ArrowDown":L(a);break;case"p":case"k":r&&a.ctrlKey&&M(a);break;case"ArrowUp":M(a);break;case"Home":a.preventDefault(),H(0);break;case"End":a.preventDefault(),K();break;case"Enter":if(!a.nativeEvent.isComposing&&229!==a.keyCode){a.preventDefault();let b=F();if(b){let a=new Event(ad);b.dispatchEvent(a)}}}}},c.createElement("label",{"cmdk-label":"",htmlFor:z.inputId,id:z.labelId,style:az},j),ay(a,a=>c.createElement(ah.Provider,{value:y},c.createElement(ag.Provider,{value:z},a))))}),ak=c.forwardRef((a,b)=>{var d,e;let f=(0,Z.useId)(),g=c.useRef(null),h=c.useContext(ai),i=c.useContext(ag),j=ar(a),k=null!=(e=null==(d=j.current)?void 0:d.forceMount)?e:null==h?void 0:h.forceMount;as(()=>{if(!k)return i.item(f,null==h?void 0:h.id)},[k]);let l=aw(f,g,[a.value,a.children,g],a.keywords),m=c.useContext(ah),n=av(a=>a.value&&a.value===l.current),o=av(a=>!!k||!1===i.filter()||!a.search||a.filtered.items.get(f)>0);function p(){var a,b;q(),null==(b=(a=j.current).onSelect)||b.call(a,l.current)}function q(){m.setState("value",l.current,!0)}if(c.useEffect(()=>{let b=g.current;if(!(!b||a.disabled))return b.addEventListener(ad,p),()=>b.removeEventListener(ad,p)},[o,a.onSelect,a.disabled]),!o)return null;let{disabled:r,value:s,onSelect:t,forceMount:u,keywords:v,...w}=a;return c.createElement(Y.Primitive.div,{ref:au([g,b]),...w,id:f,"cmdk-item":"",role:"option","aria-disabled":!!r,"aria-selected":!!n,"data-disabled":!!r,"data-selected":!!n,onPointerMove:r||i.getDisablePointerSelection()?void 0:q,onClick:r?void 0:p},a.children)}),al=c.forwardRef((a,b)=>{let{heading:d,children:e,forceMount:f,...g}=a,h=(0,Z.useId)(),i=c.useRef(null),j=c.useRef(null),k=(0,Z.useId)(),l=c.useContext(ag),m=av(a=>!!f||!1===l.filter()||!a.search||a.filtered.groups.has(h));as(()=>l.group(h),[]),aw(h,i,[a.value,a.heading,j]);let n=c.useMemo(()=>({id:h,forceMount:f}),[f]);return c.createElement(Y.Primitive.div,{ref:au([i,b]),...g,"cmdk-group":"",role:"presentation",hidden:!m||void 0},d&&c.createElement("div",{ref:j,"cmdk-group-heading":"","aria-hidden":!0,id:k},d),ay(a,a=>c.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":d?k:void 0},c.createElement(ai.Provider,{value:n},a))))}),am=c.forwardRef((a,b)=>{let{alwaysRender:d,...e}=a,f=c.useRef(null),g=av(a=>!a.search);return d||g?c.createElement(Y.Primitive.div,{ref:au([f,b]),...e,"cmdk-separator":"",role:"separator"}):null}),an=c.forwardRef((a,b)=>{let{onValueChange:d,...e}=a,f=null!=a.value,g=c.useContext(ah),h=av(a=>a.search),i=av(a=>a.value),j=c.useContext(ag),k=c.useMemo(()=>{var a;let b=null==(a=j.listInnerRef.current)?void 0:a.querySelector(`${ab}[${ae}="${encodeURIComponent(i)}"]`);return null==b?void 0:b.getAttribute("id")},[]);return c.useEffect(()=>{null!=a.value&&g.setState("search",a.value)},[a.value]),c.createElement(Y.Primitive.input,{ref:b,...e,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":j.listId,"aria-labelledby":j.labelId,"aria-activedescendant":k,id:j.inputId,type:"text",value:f?a.value:h,onChange:a=>{f||g.setState("search",a.target.value),null==d||d(a.target.value)}})}),ao=c.forwardRef((a,b)=>{let{children:d,label:e="Suggestions",...f}=a,g=c.useRef(null),h=c.useRef(null),i=c.useContext(ag);return c.useEffect(()=>{if(h.current&&g.current){let a=h.current,b=g.current,c,d=new ResizeObserver(()=>{c=requestAnimationFrame(()=>{let c=a.offsetHeight;b.style.setProperty("--cmdk-list-height",c.toFixed(1)+"px")})});return d.observe(a),()=>{cancelAnimationFrame(c),d.unobserve(a)}}},[]),c.createElement(Y.Primitive.div,{ref:au([g,b]),...f,"cmdk-list":"",role:"listbox","aria-label":e,id:i.listId},ay(a,a=>c.createElement("div",{ref:au([h,i.listInnerRef]),"cmdk-list-sizer":""},a)))}),ap=c.forwardRef((a,b)=>{let{open:d,onOpenChange:e,overlayClassName:f,contentClassName:g,container:h,...i}=a;return c.createElement(X.Root,{open:d,onOpenChange:e},c.createElement(X.Portal,{container:h},c.createElement(X.Overlay,{"cmdk-overlay":"",className:f}),c.createElement(X.Content,{"aria-label":a.label,"cmdk-dialog":"",className:g},c.createElement(aj,{ref:b,...i}))))}),aq=Object.assign(aj,{List:ao,Item:ak,Input:an,Group:al,Separator:am,Dialog:ap,Empty:c.forwardRef((a,b)=>av(a=>0===a.filtered.count)?c.createElement(Y.Primitive.div,{ref:b,...a,"cmdk-empty":"",role:"presentation"}):null),Loading:c.forwardRef((a,b)=>{let{progress:d,children:e,label:f="Loading...",...g}=a;return c.createElement(Y.Primitive.div,{ref:b,...g,"cmdk-loading":"",role:"progressbar","aria-valuenow":d,"aria-valuemin":0,"aria-valuemax":100,"aria-label":f},ay(a,a=>c.createElement("div",{"aria-hidden":!0},a)))})});function ar(a){let b=c.useRef(a);return as(()=>{b.current=a}),b}var as=c.useEffect;function at(a){let b=c.useRef();return void 0===b.current&&(b.current=a()),b}function au(a){return b=>{a.forEach(a=>{"function"==typeof a?a(b):null!=a&&(a.current=b)})}}function av(a){let b=c.useContext(ah),d=()=>a(b.snapshot());return(0,$.useSyncExternalStore)(b.subscribe,d,d)}function aw(a,b,d,e=[]){let f=c.useRef(),g=c.useContext(ag);return as(()=>{var c;let h=(()=>{var a;for(let b of d){if("string"==typeof b)return b.trim();if("object"==typeof b&&"current"in b)return b.current?null==(a=b.current.textContent)?void 0:a.trim():f.current}})(),i=e.map(a=>a.trim());g.value(a,h,i),null==(c=b.current)||c.setAttribute(ae,h),f.current=h}),f}var ax=()=>{let[a,b]=c.useState(),d=at(()=>new Map);return as(()=>{d.current.forEach(a=>a()),d.current=new Map},[a]),(a,c)=>{d.current.set(a,c),b({})}};function ay({asChild:a,children:b},d){let e;return a&&c.isValidElement(b)?c.cloneElement("function"==typeof(e=b.type)?e(b.props):"render"in e?e.render(b.props):b,{ref:b.ref},d(b.props.children)):d(b)}var az={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},aA=a.i(12268),aA=aA,aB=a.i(19184);function aC({className:a,...c}){return(0,b.jsx)(aq,{"data-slot":"command",className:(0,u.cn)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",a),...c})}function aD({title:a="Command Palette",description:c="Search for a command to run...",children:d,className:e,showCloseButton:f=!0,...g}){return(0,b.jsxs)(aB.Dialog,{...g,children:[(0,b.jsxs)(aB.DialogHeader,{className:"sr-only",children:[(0,b.jsx)(aB.DialogTitle,{children:a}),(0,b.jsx)(aB.DialogDescription,{children:c})]}),(0,b.jsx)(aB.DialogContent,{className:(0,u.cn)("overflow-hidden p-0",e),showCloseButton:f,children:(0,b.jsx)(aC,{className:"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:d})})]})}function aE({className:a,...c}){return(0,b.jsxs)("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[(0,b.jsx)(aA.default,{className:"size-4 shrink-0 opacity-50"}),(0,b.jsx)(aq.Input,{"data-slot":"command-input",className:(0,u.cn)("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",a),...c})]})}function aF({className:a,...c}){return(0,b.jsx)(aq.List,{"data-slot":"command-list",className:(0,u.cn)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",a),...c})}function aG({...a}){return(0,b.jsx)(aq.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...a})}function aH({className:a,...c}){return(0,b.jsx)(aq.Group,{"data-slot":"command-group",className:(0,u.cn)("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",a),...c})}function aI({className:a,...c}){return(0,b.jsx)(aq.Separator,{"data-slot":"command-separator",className:(0,u.cn)("bg-border -mx-1 h-px",a),...c})}function aJ({className:a,...c}){return(0,b.jsx)(aq.Item,{"data-slot":"command-item",className:(0,u.cn)("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...c})}var aK=a.i(17849),aL=a.i(49651);function aM(){let a=(0,d.useRouter)(),{commandPaletteOpen:e,setCommandPaletteOpen:f}=(0,s.useAppStore)();c.useEffect(()=>{let a=a=>{"k"===a.key&&(a.metaKey||a.ctrlKey)&&(a.preventDefault(),f(!e))};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[e,f]);let h=c.useCallback(a=>{f(!1),a()},[f]);return(0,b.jsxs)(aD,{open:e,onOpenChange:f,children:[(0,b.jsx)(aE,{placeholder:"Type a command or search..."}),(0,b.jsxs)(aF,{children:[(0,b.jsx)(aG,{children:"No results found."}),(0,b.jsxs)(aH,{heading:"Quick Actions",children:[(0,b.jsxs)(aJ,{onSelect:()=>h(()=>a.push("/tests/generate")),children:[(0,b.jsx)(aK.Plus,{className:"mr-2 h-4 w-4"}),"Generate Test"]}),(0,b.jsxs)(aJ,{onSelect:()=>h(()=>a.push("/sessions/new")),children:[(0,b.jsx)(A.PlayCircle,{className:"mr-2 h-4 w-4"}),"Start Session"]}),(0,b.jsxs)(aJ,{onSelect:()=>h(()=>a.push("/insights/roi")),children:[(0,b.jsx)(C.BarChart3,{className:"mr-2 h-4 w-4"}),"View ROI"]}),(0,b.jsxs)(aJ,{onSelect:()=>h(()=>a.push("/healing")),children:[(0,b.jsx)(z.Sparkles,{className:"mr-2 h-4 w-4"}),"Review Healing Queue"]})]}),(0,b.jsx)(aI,{}),(0,b.jsxs)(aH,{heading:"Navigation",children:[(0,b.jsxs)(aJ,{onSelect:()=>h(()=>a.push("/dashboard")),children:[(0,b.jsx)(x,{className:"mr-2 h-4 w-4"}),"Dashboard"]}),(0,b.jsxs)(aJ,{onSelect:()=>h(()=>a.push("/tests")),children:[(0,b.jsx)(y.TestTube2,{className:"mr-2 h-4 w-4"}),"Tests"]}),(0,b.jsxs)(aJ,{onSelect:()=>h(()=>a.push("/healing")),children:[(0,b.jsx)(z.Sparkles,{className:"mr-2 h-4 w-4"}),"Healing"]}),(0,b.jsxs)(aJ,{onSelect:()=>h(()=>a.push("/sessions")),children:[(0,b.jsx)(A.PlayCircle,{className:"mr-2 h-4 w-4"}),"Sessions"]}),(0,b.jsxs)(aJ,{onSelect:()=>h(()=>a.push("/pipelines")),children:[(0,b.jsx)(B.GitBranch,{className:"mr-2 h-4 w-4"}),"Pipelines"]}),(0,b.jsxs)(aJ,{onSelect:()=>h(()=>a.push("/insights")),children:[(0,b.jsx)(C.BarChart3,{className:"mr-2 h-4 w-4"}),"Insights"]}),(0,b.jsxs)(aJ,{onSelect:()=>h(()=>a.push("/settings")),children:[(0,b.jsx)(l.Settings,{className:"mr-2 h-4 w-4"}),"Settings"]})]}),(0,b.jsx)(aI,{}),(0,b.jsxs)(aH,{heading:"Recent",children:[(0,b.jsxs)(aJ,{children:[(0,b.jsx)(aL.FileText,{className:"mr-2 h-4 w-4"}),"login.spec.ts"]}),(0,b.jsxs)(aJ,{children:[(0,b.jsx)(aL.FileText,{className:"mr-2 h-4 w-4"}),"checkout-flow.spec.ts"]}),(0,b.jsxs)(aJ,{children:[(0,b.jsx)(g.Search,{className:"mr-2 h-4 w-4"}),"API endpoint tests"]})]})]})]})}function aN({children:a,showBreadcrumb:e=!0}){let{user:f}=(0,s.useAppStore)(),g=(0,d.useRouter)();return((0,c.useEffect)(()=>{f||g.push("/login")},[f,g]),f)?(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(w,{}),(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)(O,{}),(0,b.jsxs)("main",{className:"flex-1 overflow-auto h-[calc(100vh-3.5rem)]",children:[e&&(0,b.jsx)(R,{}),a]})]}),(0,b.jsx)(aM,{})]}):null}a.s(["AppShell",()=>aN],64239)}];

//# sourceMappingURL=apps_frontend_components_shell_app-shell_tsx_26d53899._.js.map